<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>R&R Wares</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="/css/users/singleProductCategory.css">
  <!-- favicon image -->
  <link rel="icon" type="image/png" href="/img/pngegg.png">
</head>

<body>
  <%-include('include/header')-%>
    <div class="forhim">
      <%=selectedCategory.toUpperCase() %>
    </div>
    <!-- <div id="intro">
    <img class="img img-fluid" src="/img/fhim.jpg" alt="for him">
  </div> -->
    <div class="container-fluid mt-5 mb-5">
      <div class="row g-2">
        <div class="col-md-3">
          <div class="heading d-flex justify-content-between align-items-center">
            <h6 class="text-uppercase">Sort</h6>
          </div>
          <div class="sortOptions">
            <form action="" method="get">
              <input type="text" name="name" value="<%= selectedCategory %>" hidden>
              <input type="number" value="1" name="sort" hidden />
              <input type="submit" value="Price -- Low to High" class="border-0 bg-light" />
            </form>
            <form action="" method="get">
              <input type="text" name="name" value="<%= selectedCategory %>" hidden>
              <input type="number" value="-1" name="sort" hidden />
              <input type="submit" value="Price -- High to Low" class="border-0 bg-light" />
            </form>
          </div>
          <!-- <div class="processor p-2">
            <div class="d-flex justify-content-between mt-2">
              <div class="form-check">
                <label>
                  <input type="radio" class="filter" name="sort" value="high-to-low">
                  High to Low
                </label>
              </div>
            </div>

            <div class="d-flex justify-content-between mt-2">
              <div class="form-check">
                <label>
                  <input type="radio" class="filter" name="sort" value="low-to-high">
                  Low to High
                </label>
              </div>
            </div>
          </div> -->

          <div class="brand p-2">
            <div class="heading d-flex justify-content-between align-items-center">
              <h6 class="text-uppercase">Filter</h6>
            </div>
            <form action="" method="get">
              <input type="text" name="name" value="<%= selectedCategory %>" hidden> 
              <input type="number" value="1000" name="maxPrice" hidden />
              <input class="bg-transparent border-0" type="submit" value="Under ₹1,000" />
            </form>
            <form action="" method="get">
              <input type="text" name="name" value="<%= selectedCategory %>" hidden>
              <input type="number" value="1000" name="minPrice" hidden />
              <input type="number" value="2000" name="maxPrice" hidden />
              <input class="bg-transparent border-0" type="submit" value="₹1000 - ₹2000" />
            </form>
            <form action="" method="get">
              <input type="text" name="name" value="<%= selectedCategory %>" hidden>
              <input type="number" value="2000" name="minPrice" hidden />
              <input type="number" value="3000" name="maxPrice" hidden />
              <input class="bg-transparent border-0" type="submit" value="₹2000 - ₹3000" />
            </form>
            <form action="" method="get">
              <input type="text" name="name" value="<%= selectedCategory %>" hidden>
              <input type="number" value="3000" name="minPrice" hidden />
              <input type="number" value="4000" name="maxPrice" hidden />
              <input class="bg-transparent border-0" type="submit" value="₹3000 - ₹4000" />
            </form>
            <form action="" method="get">
              <input type="text" name="name" value="<%= selectedCategory %>" hidden>
              <input type="number" value="4000" name="minPrice" hidden />
              <input type="number" value="5000" name="maxPrice" hidden />
              <input class="bg-transparent border-0" type="submit" value="₹4000 - ₹5000" />
            </form>
            <form action="" method="get">
              <input type="text" name="name" value="<%= selectedCategory %>" hidden>
              <input type="number" value="5000" name="minPrice" hidden />
              <input class="bg-transparent border-0" type="submit" value="Over ₹5000" />
            </form>
            <div class="d-flex justify-content-between mt-2">
              <div class="form-check">
                Price
              </div>
            </div>

            <form action="" method="get">
              <input type="text" name="name" value="<%= selectedCategory %>" hidden>
              <input type="number" class=" border border-warning m-1 rounded-2" value="" name="minPrice" placeholder="Min" required min="1" />
              <input type="number" class="border border-warning m-1 rounded-2" value="" name="maxPrice" placeholder="Max" required min="1"/>
              <br>
              <button type="submit" class="border-0 bg-primary rounded-2 mt-2">Go</button>
            </form>
          </div>
        </div>

        <!-- Products -->
        <div class="col-md-9">
          <div class="row g-2">
            <% for(let i=0; i < product?.length; i++){ %>
              <div class="col-md-3 mb-1 rounded-3">
                <div class="product py-4">
                  <div class="text-xl-end"></div>
                  <div class="text-center">
                    <a href="/userProductDetail?productId=<%= product[i]._id %>">
                      <img class="img-fluid" src="<%= product[i].images[0] %>" width="200"
                        alt="<%= product[i].productName %>"></a>
                  </div>
                  <div class="about text-center">
                    <h5>
                      <%= product[i].brand %>
                    </h5>
                    <span>₹<%= product[i].price.toFixed(2) %></span>
                  </div>
                </div>
              </div>
              <% } %>
          </div>
        </div>
      </div>
    </div>
    <!-- Pagination -->
    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-center m-5">
        <% for (let i=1; i <=totalPages; i++) { %>
          <li class="page-item <%= currentPage == i ? 'active' : '' %>">
            <a class="page-link" href="singleProductCategory?name=<%= selectedCategory %>&page=<%= i %>">
              <%= i %>
            </a>
          </li>
          <% } %>
      </ul>
    </nav>

    <%-include('include/footer')-%>
</body>

</html>